(function(){var e,t,n,r,i,o,a,s,u,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};if(a="https://js.stripe.com",n="https://js.stripe.com",r=!!/stripe\.com$/.test("undefined"!=typeof window&&null!==window?window.location.host:void 0),t="console"in window&&"warn"in window.console,!r&&"querySelectorAll"in document&&t&&(o=document.querySelectorAll('script[src^="'+a+'"]'),o.length||console.warn("It looks like Stripe.js is not being loaded from https://js.stripe.com. Stripe does not support serving Stripe.js from your own domain.")),this.Stripe)return!t||this.Stripe.isDoubleLoaded||this.Stripe.earlyError||console.warn("It looks like Stripe.js was loaded more than one time. Please only load it once per page."),void(this.Stripe.isDoubleLoaded=!0);this.Stripe=function(){function e(){}return e.version=2,e.endpoint="https://api.stripe.com/v1",e.setPublishableKey=function(t){return e.key=t,e.utils.validateProtocol(e.key)},e._language="en-US",e.setLanguage=function(t){return e._language=t},e._allowedCustomHeaders=["X-Stripe-Livemode","Authorization"],e._customHeaders={},e._setCustomHeader=function(e,t){var n,r,i,o,a;for(r=!1,a=this._allowedCustomHeaders,i=0,o=a.length;i<o;i++)if(n=a[i],n===e){this._customHeaders[e]=t,r=!0;break}return r},e.trackPerf=!1,e._isChannel="#__stripe_transport__"===("undefined"!=typeof window&&null!==window?window.location.hash:void 0),e._isSafeStripeDomain=r,e._iframeOnAmount=1,e._isSafeDomain=function(){return"#__forcedss3__"!==window.location.hash&&(!(!e._isSafeStripeDomain&&!window.StripeTemporaryNoDSS3)||e._iframeOnAmount<Math.random())}(),e._finalTransport="undefined"!=typeof window&&null!==window&&"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest?"cors":"jsonp",e._transport=e._isChannel||e._isSafeDomain?e._finalTransport:"iframe",e._fallBackToOldStripeJsTechniques=function(){return this._transport="jsonp",this._finalTransport="jsonp",this._isSafeDomain="true"},e._iframeRequestQueue=[],e._iframePendingRequests={},e._iframeChannelStatus="pending",e._iframeChannelComplete=function(t){var n,r,i,o;for(this._iframeChannelStatus=t?"success":"failure","failure"===this._iframeChannelStatus&&this._fallBackToOldStripeJsTechniques(),r=this._iframeRequestQueue,delete this._iframeRequestQueue,this._iframeRequestQueue=[],i=0,o=r.length;i<o;i++)n=r[i],this.request(n,!0);this._iframeChannelComplete=function(){return e.reportError("CompleteDuplicationError")}},e.request=function(e,t){return this.trackPerf&&e.tokenType?this._instrumentedRequest(e,t):this._rawRequest(e,t)},e._rawRequest=function(t,n){var r,i,o;if(t.data||(t.data={}),i="POST"===t.method&&"object"==typeof(null!=(o=t.data)?o.card:void 0),n||(null!=t.data.payment_user_agent?this._isChannel||(t.data.payment_user_agent=""+t.data.payment_user_agent+" ("+e.stripejs_ua+")"):t.data.payment_user_agent=e.stripejs_ua),"iframe"===this._transport){if(i)return"pending"===this._iframeChannelStatus?this._iframeRequestQueue.push(t):"failure"===this._iframeChannelStatus?this.ajaxJSONP(t):this.iframe(t);if("cors"===this._finalTransport)try{return this.xhr(t)}catch(e){return r=e,this._transport="jsonp",this.request(t,!0)}return this.ajaxJSONP(t)}if("cors"===this._transport)try{return this.xhr(t)}catch(n){return r=n,e.reportError("XhrThrewError"),this._transport="jsonp",this.request(t,!0)}return this.ajaxJSONP(t)},e.reportError=function(t,n){var r;return"console"in window&&"warn"in window.console,r=Math.round((new Date).getTime()/1e3),(new Image).src="https://q.stripe.com?event=stripejs-error&type="+encodeURIComponent(t)+(n?"&timing="+n:"")+"&key="+e.key+"&timestamp="+r+"&payment_user_agent="+encodeURIComponent(e.stripejs_ua)},e._instrumentedRequest=function(t,n){var r,i;return r=(new Date).getTime(),i=function(n){return function(i,o){var a,s,u,l,c;return l=null!=(c=t.tokenType)?c:"unknown",a=(new Date).getTime(),s=n._getResourceTiming(null!=i?i.responseURL:void 0),u={event:"rum.stripejs",tokenType:l,url:t.url,status:o,start:r,end:a,resourceTiming:s},e.logRUM(u)}}(this),t.success=function(e){return function(t,n,r){return i(r,n),e.apply(this,arguments)}}(t.success),t.complete=function(e){return function(t,n,r){return"success"!==t&&i(n,t),e.apply(this,arguments)}}(t.complete),this._rawRequest(t,n)},e._getResourceTiming=function(e){var t;switch(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.getEntriesByName?performance.getEntriesByName(e):void 0,!1){case 1!==(null!=t?t.length:void 0):return this._sanitizeResourceTiming(t[0]);case 0!==(null!=t?t.length:void 0):return{errorMsg:"No resource timing entries found"};case null==(null!=t?t.length:void 0):return{errorMsg:"More than one resource timing entry"};default:return null}},e._resourceTimingWhitelist=["connectEnd","connectStart","domainLookupEnd","domainLookupStart","duration","fetchStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","secureConnectionStart","startTime"],e._sanitizeResourceTiming=function(e){var t,n,r,i,o;for(n={},o=this._resourceTimingWhitelist,r=0,i=o.length;r<i;r++)t=o[r],e[t]&&(n[t]=e[t]);return n},e.logRUM=function(t){return(new Image).src="https://q.stripe.com/?"+e.utils.serialize(t)},e.complete=function(t,n){return function(r,i,o){if("success"!==r)return e.reportError("Complete500-"+r),"function"==typeof t?t(500,{error:{code:r,type:r,message:n}}):void 0}},e._iframeBaseUrl=n,e._stripejsBaseUrl=a,e._relayResponse=function(t,n,r){return e._socket.postMessage(e.JSON.stringify({code:n,resp:r,requestId:t}))},e._callCount=0,e._callCache={},e._receiveChannelRelay=function(t,n){var r,i,o,a;if(o=e._iframeBaseUrl.replace(/^https?:\/\//,"").replace(/\/.*$/,""),a=n.replace(/^https?:\/\//,"").replace(/\/.*$/,""),a===o&&"string"==typeof t){try{i=e.JSON.parse(t)}catch(t){throw r=t,e.reportError("InvalidJSON-ChannelRelay"),new Error("Stripe.js received invalid JSON")}if("function"==typeof e._callCache[i.requestId])return e._callCache[i.requestId](i.resp,i.code),delete e._callCache[i.requestId]}},e._channelListener=function(t,n){var r,i,o,a;if("string"==typeof t){try{a=e.JSON.parse(t)}catch(t){throw i=t,e.reportError("InvalidJSON-ChannelListener"),new Error("Stripe.js received invalid JSON")}if(r=a.data.card,delete a.data.card,o=a.headers["Accept-Language"],r)return e.setPublishableKey(a.data.key),o&&e.setLanguage(o),null!=a.endpoint&&(e.endpoint=a.endpoint),null!=a.trackPerf&&(e.trackPerf=a.trackPerf),e.card.createToken(r,a.data,function(t,n){return e._relayResponse(a.requestId,t,n)});throw e.reportError("InvalidChannelUse-NonCard"),new Error("Stripe.js iframe transport used for non-card request")}},e}(),this.Stripe.token=function(){function e(){}return e.validate=function(e,t){if(!e)throw t+" required";if("object"!=typeof e)throw t+" invalid"},e.formatData=function(e,t){var n,r,i;Stripe.utils.isElement(e)&&(e=Stripe.utils.paramsFromForm(e,t));for(n in e)r=e[n],null==r&&delete e[n];if(Stripe.utils.underscoreKeys(e),"string"==typeof e.exp){try{i=Stripe.utils.parseExpString(e.exp),e.exp_month=i[0],e.exp_year=i[1]}catch(t){e.exp_month=0,e.exp_year=0}delete e.exp}return e},e.create=function(e,t){var n,r;return e.key||(e.key=Stripe.key||Stripe.publishableKey),Stripe.utils.validateKey(e.key),r=function(){switch(!1){case null==e.card:return"card";case null==e.bank_account:return"bank_account";case null==e.pii:return"pii";case null==e.apple_pay:return"apple_pay";default:return"unknown"}}(),delete e.apple_pay,n={url:""+Stripe.endpoint+"/tokens",data:e,method:"POST",headers:{},success:function(e,n){return"function"==typeof t?t(n,e):void 0},complete:Stripe.complete(t,"A network error has occurred, and you have not been charged. Please try again."),timeout:4e4,tokenType:r},Stripe._language&&(n.headers["Accept-Language"]=Stripe._language),Stripe.request(n)},e.get=function(e,t){if(!e)throw new Error("token required");return Stripe.utils.validateKey(Stripe.key),Stripe.request({url:""+Stripe.endpoint+"/tokens/"+e,data:{key:Stripe.key},success:function(e,n){return"function"==typeof t?t(n,e):void 0},complete:Stripe.complete(t,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},e}(),this.Stripe.card=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.tokenName="card",t.whitelistedAttrs=["number","cvc","exp","exp_month","exp_year","name","address_line1","address_line2","address_city","address_state","address_zip","address_country","currency"],t.createToken=function(e,n,r){var i;return null==n&&(n={}),Stripe.token.validate(e,"card"),"function"==typeof n?(r=n,n={}):"object"!=typeof n&&(i=parseInt(n,10),n={},i>0&&(n.amount=i)),e._fields&&e.createToken?e.createToken(r):(n[t.tokenName]=Stripe.token.formatData(e,t.whitelistedAttrs),Stripe.token.create(n,r))},t.getToken=function(e,t){return Stripe.token.get(e,t)},t.validateCardNumber=function(e){return e=(e+"").replace(/\s+|-/g,""),e.length>=10&&e.length<=16&&t.luhnCheck(e)},t.validateCVC=function(e){return e=Stripe.utils.trim(e),/^\d+$/.test(e)&&e.length>=3&&e.length<=4},t.validateExpiry=function(e,t){var n,r,i,o;if(null!=t)i=Stripe.utils.trim(e),t=Stripe.utils.trim(t);else{try{o=Stripe.utils.parseExpString(e),i=o[0],t=o[1]}catch(e){return!1}i+="",t+=""}return!!/^\d+$/.test(i)&&!!/^\d+$/.test(t)&&1<=i&&i<=12&&(2===t.length&&(t=t<70?"20"+t:"19"+t),4===t.length&&(r=new Date(t,i),n=new Date,r.setMonth(r.getMonth()-1),r.setMonth(r.getMonth()+1,1),r>n))},t.luhnCheck=function(e){var t,n,r,i,o,a;for(r=!0,i=0,n=(e+"").split("").reverse(),o=0,a=n.length;o<a;o++)t=n[o],t=parseInt(t,10),(r=!r)&&(t*=2),t>9&&(t-=9),i+=t;return i%10===0},t.cardType=function(e){return t.cardTypes[e.slice(0,2)]||"Unknown"},t.cardBrand=function(e){return t.cardType(e)},t.cardTypes=function(){var e,t,n,r;for(t={},e=n=40;n<=49;e=++n)t[e]="Visa";for(e=r=50;r<=59;e=++r)t[e]="MasterCard";return t[34]=t[37]="American Express",t[60]=t[62]=t[64]=t[65]="Discover",t[35]="JCB",t[30]=t[36]=t[38]=t[39]="Diners Club",t}(),t}(this.Stripe.token),this.Stripe.bankAccount=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.tokenName="bank_account",t.whitelistedAttrs=["country","currency","routing_number","account_number","name","account_holder_type","account_holder_name"],t.createToken=function(e,n,r){return null==n&&(n={}),Stripe.token.validate(e,"bank account"),"function"==typeof n&&(r=n,n={}),n[t.tokenName]=Stripe.token.formatData(e,t.whitelistedAttrs),Stripe.token.create(n,r)},t.getToken=function(e,t){return Stripe.token.get(e,t)},t.validateRoutingNumber=function(e,n){switch(e=Stripe.utils.trim(e),n){case"US":return/^\d+$/.test(e)&&9===e.length&&t.routingChecksum(e);case"CA":return/\d{5}\-\d{3}/.test(e)&&9===e.length;default:return!0}},t.validateAccountNumber=function(e,t){switch(e=Stripe.utils.trim(e),t){case"US":return/^\d+$/.test(e)&&e.length>=1&&e.length<=17;default:return!0}},t.routingChecksum=function(e){var t,n,r,i,o,a;for(r=0,t=(e+"").split(""),a=[0,3,6],i=0,o=a.length;i<o;i++)n=a[i],r+=3*parseInt(t[n]),r+=7*parseInt(t[n+1]),r+=parseInt(t[n+2]);return 0!==r&&r%10===0},t}(this.Stripe.token),this.Stripe.piiData=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.tokenName="pii",t.whitelistedAttrs=["personal_id_number"],t.createToken=function(e,n,r){return null==n&&(n={}),Stripe.token.validate(e,"pii data"),"function"==typeof n&&(r=n,n={}),n[t.tokenName]=Stripe.token.formatData(e,t.whitelistedAttrs),Stripe.token.create(n,r)},t.getToken=function(e,t){return Stripe.token.get(e,t)},t}(this.Stripe.token),this.Stripe._poller=function(){function e(){}return e._activePolls={},e._clearPoll=function(t){return delete e._activePolls[t]},e._defaultPollInterval=1500,e._maxPollInterval=24e3,e._initPoll=function(t){if(null!=e._activePolls[t])throw new Error("You are already polling "+t+". Please cancel that poll before polling it again.");return e._activePolls[t]={}},e._poll=function(t,n,r,i,o){n(t,function(a,s){var u;if(null!=e._activePolls[t])return a>=400&&a<500?(e._clearPoll(t),"function"==typeof o?o(a,s):void 0):200===a&&i(t,s)?(e._clearPoll(t),"function"==typeof o?o(a,s):void 0):(200===a&&r(t,s)&&"function"==typeof o&&o(a,s),500===a&&2*e._activePolls[t].interval<=e._maxPollInterval?e._activePolls[t].interval*=2:a>=200&&a<500&&(e._activePolls[t].interval=e._defaultPollInterval),u=setTimeout(function(){return e._poll(t,n,r,i,o)},e._activePolls[t].interval),e._activePolls[t].timeoutId=u)})},e._cancelPoll=function(t){var n;if(n=e._activePolls[t],null==n)throw new Error("You are not polling "+t+".");null!=n.timeoutId&&clearTimeout(n.timeoutId),e._clearPoll(t)},e}(),this.Stripe.bitcoinReceiver=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t._whitelistedAttrs=["amount","currency","email","description"],t.createReceiver=function(e,t){var n;return Stripe.token.validate(e,"bitcoin_receiver data"),n=Stripe.token.formatData(e,this._whitelistedAttrs),n.key=Stripe.key||Stripe.publishableKey,Stripe.utils.validateKey(n.key),Stripe.request({url:""+Stripe.endpoint+"/bitcoin/receivers",data:n,method:"POST",success:function(e,n){return"function"==typeof t?t(n,e):void 0},complete:Stripe.complete(t,"A network error has occurred while creating a Bitcoin address. Please try again."),timeout:4e4})},t.getReceiver=function(e,t){var n;if(!e)throw new Error("receiver id required");return n=Stripe.key||Stripe.publishableKey,Stripe.utils.validateKey(n),Stripe.request({url:""+Stripe.endpoint+"/bitcoin/receivers/"+e,data:{key:n},success:function(e,n){return"function"==typeof t?t(n,e):void 0},complete:Stripe.complete(t,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t.pollReceiver=function(e,t){return this._initPoll(e),this._poll(e,function(e){return function(t,n){return e.getReceiver(t,n)}}(this),function(e,t){return!1},function(e,t){return t.filled},t)},t.cancelReceiverPoll=function(e){return t._cancelPoll(e)},t}(this.Stripe._poller),this.Stripe.source=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t.get=function(e,t,n){var r,i;if(!e)throw new Error("sourceId required");if(!t)throw new Error("clientSecret required");return r=Stripe.key||Stripe.publishableKey,Stripe.utils.validateKey(r),i={},i.key=r,i.client_secret=t,Stripe.request({url:""+Stripe.endpoint+"/sources/"+e,data:i,success:function(e,t){return"function"==typeof n?n(t,e):void 0},complete:Stripe.complete(n,"A network error has occurred loading data from Stripe. Please try again."),timeout:4e4})},t.poll=function(e,t,n){return this._initPoll(e),this._poll(e,function(e){return function(n,r){return e.get(n,t,r)}}(this),function(e){return function(t,n){return e._activePolls[t].source_status!==n.status&&(e._activePolls[t].source_status=n.status,!0)}}(this),function(e,t){return!1},n)},t.cancelPoll=function(e){return this._cancelPoll(e)},t}(this.Stripe._poller),this.Stripe.threeDSecure=function(){function e(){}return e.create=function(e,t){var n;if("object"!=typeof e)throw new Error("params must be an object.");if("function"!=typeof t)throw new Error("callback must be a function.");return e.key||(e.key=Stripe.key||Stripe.publishableKey),e.return_url||(e.return_url="_callback"),Stripe.utils.validateKey(e.key),n={url:""+Stripe.endpoint+"/3d_secure",data:e,method:"POST",headers:{},success:function(e,n){return"function"==typeof t?t(n,e):void 0},complete:Stripe.complete(t,"A network error has occurred, and you have not been charged. Please try again."),timeout:4e4,tokenType:"three_d_secure"},Stripe._language&&(n.headers["Accept-Language"]=Stripe._language),Stripe.request(n),null},e.createIframe=function(e,t,n){var r,i;if(i=null,!Stripe.validator.isUrl(e))throw new Error("redirectUrl must be a valid URL.");if(!Stripe.validator.isElementOrId(t))throw new Error("parentElement must be a DOM Element, or the ID of a DOM element.");if("function"!=typeof n)throw new Error("callback must be a function.");return r=function(e,t){var r,o;try{o=Stripe.JSON.parse(e)}catch(e){throw r=e,Stripe.reportError("InvalidJSON-3DSecureCallback"),new Error("Stripe.js received invalid JSON")}return i.destroy(),n(o)},i=new Stripe.easyXDM.Socket({swf:""+Stripe._iframeBaseUrl+"/v2/stripexdm.swf",remote:e,onMessage:r,container:t}),null},e}(),this.Stripe.applePay=function(){function e(){}return e.stripeAccount=null,e._isOverHTTPS=function(){return"https:"===window.location.protocol},e.checkAvailability=function(e){var t,n;if(null==e)throw new Error("This function executes asynchronously; please pass it a callback function.");return this._isOverHTTPS()?(null!=(n=window.ApplePaySession)?n.canMakePayments():void 0)?(t=this.stripeAccount?"merchant."+window.location.hostname+"."+this.stripeAccount+".stripe":"merchant."+window.location.hostname+".stripe",ApplePaySession.canMakePaymentsWithActiveCard(t).then(function(t){return e(t)})):void e(!1):(console.warn("To use Apple Pay, you must serve your page over HTTPS."),void e(!1))},e.buildSession=function(e,t,n){return new Stripe.ApplePaySession(e,t,n)},e.createToken=function(e,t){var n,r,i;return n={apple_pay:!0,pk_token:Stripe.JSON.stringify(e.token.paymentData),pk_token_transaction_id:e.token.transactionIdentifier,pk_token_payment_network:e.token.paymentMethod.network,pk_token_instrument_name:e.token.paymentMethod.displayName},null!=e.billingContact&&(n.card={name:[e.billingContact.givenName,e.billingContact.familyName].join(" ").trim(),address_line1:null!=(r=e.billingContact.addressLines)?r[0]:void 0,address_line2:null!=(i=e.billingContact.addressLines)?i[1]:void 0,address_city:e.billingContact.locality,address_state:e.billingContact.administrativeArea,address_zip:e.billingContact.postalCode,address_country:e.billingContact.countryCode}),Stripe.token.create(n,t)},e}(),e=["createToken","getToken","cardType","validateExpiry","validateCVC","validateCardNumber"];for(s=0,u=e.length;s<u;s++)i=e[s],this.Stripe[i]=this.Stripe.card[i];this.Stripe.stripejs_ua="stripe.js/c437b32","undefined"!=typeof module&&null!==module&&(module.exports=this.Stripe),"function"==typeof define&&define("stripe",[],function(e){return function(){return e.Stripe}}(this))}).call(this),function(){this.Stripe.isDoubleLoaded||function(e){function t(e,i){function o(e){if(o[e]!==y)return o[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=o("json-stringify")&&o("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=i.stringify,c="function"==typeof u&&_;if(c){(n=function(){return 1}).toJSON=n;try{c="0"===u(0)&&"0"===u(new a)&&'""'==u(new s)&&u(g)===y&&u(y)===y&&u()===y&&"1"===u(n)&&"[1]"==u([n])&&"[null]"==u([y])&&"null"==u(null)&&"[null,null,null]"==u([y,g,null])&&u({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===u(null,n)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new l(-1))}catch(e){c=!1}}t=c}if("json-parse"==e){var p=i.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){n=p(r);var d=5==n.a.length&&1===n.a[0];if(d){try{d=!p('"\t"')}catch(e){}if(d)try{d=1!==p("01")}catch(e){}if(d)try{d=1!==p("1.")}catch(e){}}}}catch(e){d=!1}t=d}}return o[e]=!!t}e||(e=r.Object()),i||(i=r.Object());var a=e.Number||r.Number,s=e.String||r.String,u=e.Object||r.Object,l=e.Date||r.Date,c=e.SyntaxError||r.SyntaxError,p=e.TypeError||r.TypeError,d=e.Math||r.Math,f=e.JSON||r.JSON;"object"==typeof f&&f&&(i.stringify=f.stringify,i.parse=f.parse);var h,m,y,v=u.prototype,g=v.toString,_=new l(-0xc782b5b800cec);try{_=_.getUTCFullYear()==-109252&&0===_.getUTCMonth()&&1===_.getUTCDate()&&10==_.getUTCHours()&&37==_.getUTCMinutes()&&6==_.getUTCSeconds()&&708==_.getUTCMilliseconds()}catch(e){}if(!o("json")){var b="[object Function]",w="[object Date]",S="[object Number]",C="[object String]",k="[object Array]",j="[object Boolean]",T=o("bug-string-char-index");if(!_)var A=d.floor,Q=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(e,t){return Q[t]+365*(e-1970)+A((e-1969+(t=+(t>1)))/4)-A((e-1901+t)/100)+A((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var r,i,o,a=0;(r=function(){this.valueOf=0}).prototype.valueOf=0,i=new r;for(o in i)h.call(i,o)&&a++;return r=i=null,a?m=2==a?function(e,t){var n,r={},i=g.call(e)==b;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=g.call(e)==b;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var r,o,a=g.call(e)==b,s=!a&&"function"!=typeof e.constructor&&n[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(r in e)a&&"prototype"==r||!s.call(e,r)||t(r);for(o=i.length;r=i[--o];s.call(e,r)&&t(r));}),m(e,t)},!o("json-stringify")){var P={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},E="000000",I=function(e,t){return(E+(t||0)).slice(-e)},q="\\u00",O=function(e){for(var t='"',n=0,r=e.length,i=!T||r>10,o=i&&(T?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=P[a];break;default:if(a<32){t+=q+I(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},N=function(e,t,n,r,i,o,a){var s,u,l,c,d,f,v,_,b,T,Q,P,E,q,M,D;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if(u=g.call(s),u!=w||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(u!=S&&u!=C&&u!=k||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(x){for(d=A(s/864e5),l=A(d/365.2425)+1970-1;x(l+1,0)<=d;l++);for(c=A((d-x(l,0))/30.42);x(l,c+1)<=d;c++);d=1+d-x(l,c),f=(s%864e5+864e5)%864e5,v=A(f/36e5)%24,_=A(f/6e4)%60,b=A(f/1e3)%60,T=f%1e3}else l=s.getUTCFullYear(),c=s.getUTCMonth(),d=s.getUTCDate(),v=s.getUTCHours(),_=s.getUTCMinutes(),b=s.getUTCSeconds(),T=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?"-":"+")+I(6,l<0?-l:l):I(4,l))+"-"+I(2,c+1)+"-"+I(2,d)+"T"+I(2,v)+":"+I(2,_)+":"+I(2,b)+"."+I(3,T)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if(u=g.call(s),u==j)return""+s;if(u==S)return s>-1/0&&s<1/0?""+s:"null";if(u==C)return O(""+s);if("object"==typeof s){for(q=a.length;q--;)if(a[q]===s)throw p();if(a.push(s),Q=[],M=o,o+=i,u==k){for(E=0,q=s.length;E<q;E++)P=N(E,s,n,r,i,o,a),Q.push(P===y?"null":P);D=Q.length?i?"[\n"+o+Q.join(",\n"+o)+"\n"+M+"]":"["+Q.join(",")+"]":"[]"}else m(r||s,function(e){var t=N(e,s,n,r,i,o,a);t!==y&&Q.push(O(e)+":"+(i?" ":"")+t)}),D=Q.length?i?"{\n"+o+Q.join(",\n"+o)+"\n"+M+"}":"{"+Q.join(",")+"}":"{}";return a.pop(),D}};i.stringify=function(e,t,r){var i,o,a,s;if(n[typeof t]&&t)if((s=g.call(t))==b)o=t;else if(s==k){a={};for(var u,l=0,c=t.length;l<c;u=t[l++],s=g.call(u),(s==C||s==S)&&(a[u]=1));}if(r)if((s=g.call(r))==S){if((r-=r%1)>0)for(i="",r>10&&(r=10);i.length<r;i+=" ");}else s==C&&(i=r.length<=10?r:r.slice(0,10));return N("",(u={},u[""]=e,u),o,a,i,"",[])}}if(!o("json-parse")){var M,D,R=s.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},U=function(){throw M=D=null,c()},F=function(){for(var e,t,n,r,i,o=D,a=o.length;M<a;)switch(i=o.charCodeAt(M)){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?o.charAt(M):o[M],M++,e;case 34:for(e="@",M++;M<a;)if(i=o.charCodeAt(M),i<32)U();else if(92==i)switch(i=o.charCodeAt(++M)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=L[i],M++;break;case 117:for(t=++M,n=M+4;M<n;M++)i=o.charCodeAt(M),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||U();e+=R("0x"+o.slice(t,M));break;default:U()}else{if(34==i)break;for(i=o.charCodeAt(M),t=M;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++M);e+=o.slice(t,M)}if(34==o.charCodeAt(M))return M++,e;U();default:if(t=M,45==i&&(r=!0,i=o.charCodeAt(++M)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(M+1),i>=48&&i<=57)&&U(),r=!1;M<a&&(i=o.charCodeAt(M),i>=48&&i<=57);M++);if(46==o.charCodeAt(M)){for(n=++M;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==M&&U(),M=n}if(i=o.charCodeAt(M),101==i||69==i){for(i=o.charCodeAt(++M),43!=i&&45!=i||M++,n=M;n<a&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==M&&U(),M=n}return+o.slice(t,M)}if(r&&U(),"true"==o.slice(M,M+4))return M+=4,!0;if("false"==o.slice(M,M+5))return M+=5,!1;if("null"==o.slice(M,M+4))return M+=4,null;U()}return"$"},H=function(e){var t,n;if("$"==e&&U(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=F(),"]"!=e;n||(n=!0))n&&(","==e?(e=F(),"]"==e&&U()):U()),","==e&&U(),t.push(H(e));return t}if("{"==e){for(t={};e=F(),"}"!=e;n||(n=!0))n&&(","==e?(e=F(),"}"==e&&U()):U()),","!=e&&"string"==typeof e&&"@"==(T?e.charAt(0):e[0])&&":"==F()||U(),t[e.slice(1)]=H(F());return t}U()}return e},B=function(e,t,n){var r=z(e,t,n);r===y?delete e[t]:e[t]=r},z=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(g.call(i)==k)for(r=i.length;r--;)B(i,r,n);else m(i,function(e){B(i,e,n)});return n.call(e,t,i)};i.parse=function(e,t){var n,r;return M=0,D=""+e,n=H(F()),"$"!=F()&&U(),M=D=null,t&&g.call(t)==b?z((r={},r[""]=n,r),"",t):n}}}return i.runInContext=t,i}var n={function:!0,object:!0},r=this,i=t(e,r);r.JSON={parse:i.parse,stringify:i.stringify}}.call(Stripe,this)}.call(this),function(){this.Stripe.isDoubleLoaded||!function(e,t,n,r,i,o){function a(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function s(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!m(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!m(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(C=n.match(/\d+/g))}if(!C){var r;try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),C=Array.prototype.slice.call(r.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),r=null}catch(e){}}if(!C)return!1;var i=parseInt(C[0],10),o=parseInt(C[1],10);return k=i>9&&o>0,!0}function u(){if(!D){D=!0;for(var e=0;e<R.length;e++)R[e]();R.length=0}}function l(e,t){return D?void e.call(t):void R.push(function(){e.call(t)})}function c(e){return e.match(x)[3]}function p(e){return e.match(x)[4]||""}function d(e){var t,n,r=e.toLowerCase().match(x),i="",o="";try{t=r[2],n=r[3],i=r[4]||"",("http:"==t&&":80"==i||"https:"==t&&":443"==i)&&(i=""),o=t+"//"+n+i}catch(t){o=e}return o}function f(e){if(e=e.replace(E,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;P.test(e);)e=e.replace(P,"");return e}function h(e,t){var n="",r=e.indexOf("#");r!==-1&&(n=e.substring(r),e=e.substring(0,r));var i,a=[];for(var s in t)t.hasOwnProperty(s)&&(i="stripe_"+s,a.push(i+"="+o(t[s])));return e+(N?"#":e.indexOf("?")==-1?"?":"&")+a.join("&")+n}function m(e){return"undefined"==typeof e}function y(e,t,n){var r;for(var i in t)t.hasOwnProperty(i)&&(i in e?(r=t[i],"object"==typeof r?y(e[i],r,n):n||(e[i]=t[i])):e[i]=t[i]);return e}function v(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=O+"TEST"+Q,S=n!==e.elements[n.name],t.body.removeChild(e)}function g(n){m(S)&&v();var i;S?i=t.createElement('<iframe name="'+n.props.name+'"/>'):(i=t.createElement("IFRAME"),i.name=n.props.name),i.id=i.name=n.props.name,delete n.props.name,"string"==typeof n.container&&(n.container=t.getElementById(n.container)),n.container||(y(i.style,{position:"absolute",top:"-2000px",left:"0px"}),n.container=t.body);var o=n.props.src;n.props.src="about:blank",y(i,n.props),i.border=i.frameBorder=0,i.allowTransparency=!0;var a=!1;return n.onFrameAck&&"postMessage"in e&&e.addEventListener?e.addEventListener("message",function(e){var t=Stripe._iframeBaseUrl.replace(/^https?:\/\//,"").replace(/\/.*$/,""),r=e.origin.replace(/^https?:\/\//,"").replace(/\/.*$/,"");t===r&&"stripe:ack"===e.data&&n.onFrameAck(!0)},!1):a=!0,n.container.appendChild(i),n.onLoad&&j(i,"load",function(){n.onLoad.apply(n,arguments),a&&n.onFrameAck(!1)}),n.onError&&j(i,"error",function(){n.onError.apply(n,arguments)}),i.src=o,n.onAsyncInject&&r(function(){n.onAsyncInject.call(n,i)},5e3),n.props.src=o,i}function _(n){var r,i=n.protocol;if(n.isHost=n.isHost||m(U.xdm_p),N=n.hash||!1,n.props||(n.props={}),n.isHost){if(n.remote=f(n.remote),n.channel=n.channel||"default"+Q++,n.secret=Math.random().toString(16).substring(2),m(i))if(a(e,"postMessage")||a(t,"postMessage"))i="1";else{if(!(n.swf&&a(e,"ActiveXObject")&&s()))throw new Error("No suitable transport protocol for Stripe.js");i="6"}}else n.channel=U.xdm_c.replace(/["'<>\\]/g,""),n.secret=U.xdm_s,n.remote=U.xdm_e.replace(/["'<>\\]/g,""),i=U.xdm_p;switch(n.protocol=i,i){case"1":r=[new q.stack.PostMessageTransport(n)];break;case"6":C||s(),r=[new q.stack.FlashTransport(n)]}return r?(r.push(new q.stack.QueueBehavior({lazy:n.lazy,remove:!0})),r):void n.onInternalError.call(n,"BadXDMProtocol")}function b(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,i=e.length;r<i;r++)t=e[r],y(t,n,!0),0!==r&&(t.down=e[r-1]),r!==i-1&&(t.up=e[r+1]);return t}function w(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var S,C,k,j,T,A=this,Q=Math.floor(1e6*Math.random()),x=(Function.prototype,/^((http:|https:|file:|chrome\-extension:|chrome:)\/\/([^:\/\s]+)(:\d+)*)/),P=/[\-\w]+\/\.\.\//,E=/([^:])\/\//g,I="Stripe",q={},O="stripeXDM_",N=!1;if(a(e,"addEventListener"))j=function(e,t,n){e.addEventListener(t,n,!1)},T=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!a(e,"attachEvent"))throw new Error("Browser not supported");j=function(e,t,n){e.attachEvent("on"+t,n)},T=function(e,t,n){e.detachEvent("on"+t,n)}}var M,D=!1,R=[];if("readyState"in t?(M=t.readyState,D="complete"==M||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==M||"interactive"==M)):D=!!t.body,!D){if(a(e,"addEventListener"))j(t,"DOMContentLoaded",u);else if(j(t,"readystatechange",function(){"complete"==t.readyState&&u()}),t.documentElement.doScroll&&e===top){var L=function(){if(!D){try{t.documentElement.doScroll("left")}catch(e){return void r(L,1)}u()}};L()}j(e,"load",u)}var U=function(e){e=e.substring(1).split("&");for(var t,n={},r=e.length;r--;)t=e[r].split("="),n[t[0].replace(/^stripe_/,"")]=i(t[1]);return n}(/stripe_xdm_e=/.test(n.search)?n.search:n.hash),F=function(){return Stripe.JSON};y(q,{version:"2.4.19.3",query:U,stack:{},apply:y,getJSONObject:F,whenReady:l}),q.DomHelper={on:j,un:T},function(){var e={};q.Fn={set:function(t,n){e[t]=n},get:function(t,n){if(e.hasOwnProperty(t)){var r=e[t];return n&&delete e[t],r}}}}(),q.Socket=function(e){var t=b(_(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=d(e.remote);this.origin=d(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},q.stack.FlashTransport=function(e){function i(e,t){r(function(){s.up.incoming(e,m)},0)}function a(n){var r=e.swf+"?host="+e.isHost,i="easyXDM_swf_"+Math.floor(1e4*Math.random());q.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){q.stack.FlashTransport[n].swf=v=_.firstChild;for(var e=q.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?_="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(_=t.createElement("div"),y(_.style,k&&e.swfNoThrottle?{
height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(_));var a="callback=flash_loaded"+o(n.replace(/[\-.]/g,"_"))+"&proto="+A.location.protocol+"&domain="+o(c(A.location.href))+"&port="+o(p(A.location.href))+"&ns="+o(I);_.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+i+"' data='"+r+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+r+"'></param><param name='flashvars' value='"+a+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+a+"' allowScriptAccess='always' wmode='transparent' src='"+r+"' height='1' width='1'></embed></object>"}var s,u,m,v,_;return s={outgoing:function(t,n,r){v.postMessage(e.channel,t.toString()),r&&r()},destroy:function(){try{v.destroyChannel(e.channel)}catch(e){}v=null,u&&(u.parentNode.removeChild(u),u=null)},onDOMReady:function(){m=e.remote,q.Fn.set("flash_"+e.channel+"_init",function(){r(function(){s.up.callback(!0)})}),q.Fn.set("flash_"+e.channel+"_onMessage",i),e.swf=f(e.swf);var t=c(e.swf),o=function(){q.stack.FlashTransport[t].init=!0,v=q.stack.FlashTransport[t].swf,v.createChannel(e.channel,e.secret,d(e.remote),e.isHost),e.isHost&&(k&&e.swfNoThrottle&&y(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),y(e.props,{src:h(e.remote,{xdm_e:d(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:O+e.channel+"_provider"}),u=g(e))};q.stack.FlashTransport[t]&&q.stack.FlashTransport[t].init?o():q.stack.FlashTransport[t]?q.stack.FlashTransport[t].queue.push(o):(q.stack.FlashTransport[t]={queue:[o]},a(t))},init:function(){l(s.onDOMReady,s)}}},q.stack.PostMessageTransport=function(t){function i(e){if(e.origin)return d(e.origin);if(e.uri)return d(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw new Error("Unable to retrieve the origin of the event")}function o(e){var n=i(e);n==c&&"string"==typeof e.data&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&a.up.incoming(e.data.substring(t.channel.length+1),n)}var a,s,u,c;return a={outgoing:function(e,n,r){try{u.postMessage(t.channel+" "+e,n||c),r&&r()}catch(e){t.onInternalError&&t.onInternalError.call(t,"CallerWindowError")}},destroy:function(){T(e,"message",o),s&&(u=null,s.parentNode.removeChild(s),s=null)},onDOMReady:function(){if(c=d(t.remote),t.isHost){var i=function(n){n.data==t.channel+"-ready"&&(u="postMessage"in s.contentWindow?s.contentWindow:s.contentWindow.document,T(e,"message",i),j(e,"message",o),r(function(){a.up.callback(!0)},0))};j(e,"message",i),y(t.props,{src:h(t.remote,{xdm_e:d(n.href),xdm_c:t.channel,xdm_p:1}),name:O+t.channel+"_provider"}),s=g(t)}else j(e,"message",o),u="postMessage"in e.parent?e.parent:e.parent.document,u.postMessage(t.channel+"-ready",c),r(function(){a.up.callback(!0)},0)},init:function(){l(a.onDOMReady,a)}}},q.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===s.length)return void w(n);if(!u&&0!==s.length&&!a){u=!0;var i=s.shift();n.down.outgoing(i.data,i.origin,function(e){u=!1,i.callback&&r(function(){i.callback(e)},0),t()})}}var n,a,s=[],u=!0,l="",c=0,p=!1,d=!1;return n={init:function(){m(e)&&(e={}),e.maxLength&&(c=e.maxLength,d=!0),e.lazy?p=!0:n.down.init()},callback:function(e){u=!1;var r=n.up;t(),r.callback(e)},incoming:function(t,r){if(d){var o=t.indexOf("_"),a=parseInt(t.substring(0,o),10);l+=t.substring(o+1),0===a&&(e.encode&&(l=i(l)),n.up.incoming(l,r),l="")}else n.up.incoming(t,r)},outgoing:function(r,i,a){e.encode&&(r=o(r));var u,l=[];if(d){for(;0!==r.length;)u=r.substring(0,c),r=r.substring(u.length),l.push(u);for(;u=l.shift();)s.push({data:l.length+"_"+u,origin:i,callback:0===l.length?a:null})}else s.push({data:r,origin:i,callback:a});p?n.down.init():t()},destroy:function(){a=!0,n.down.destroy()}}},Stripe.easyXDM=q}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent)}.call(this),function(){var e,t=[].slice;this.Stripe.isDoubleLoaded||(e=function(){function e(e,t,r,i){var o,a,s,u,l,c,p,d;if(null==window.ApplePaySession&&!i)throw new Error("Apple Pay is not supported in this browser. You should check the result of Stripe.applePay.checkAvailability before trying to create an Apple Pay session.");for(a=function(e){return function(t){var n;return n=(null!=t?t.error:void 0)||{message:"Something went wrong validating your Apple Pay Session."},null!=n.message&&console.warn(n.message),e.session.abort(),"function"==typeof r?r(n):void 0}}(this),this.paymentRequest=n(e),u=null!=(p=this.paymentRequest.shippingMethods)?p[0]:void 0,this.session=i||new ApplePaySession(1,this.paymentRequest),s=function(e){return function(t){return Object.defineProperty(e,t,{set:function(e){if("onpaymentauthorized"===t||"onvalidatemerchant"===t)throw new Error("Stripe handles this callback for you; you shouldn't set this property yourself. For more help, see https://stripe.com/docs/apple-pay/web#apple-merchant-validation");return this.session[t]=e},get:function(){return this.session[t]}})}}(this),d=["oncancel","onpaymentauthorized","onpaymentmethodselected","onshippingcontactselected","onshippingmethodselected","onvalidatemerchant"],l=0,c=d.length;l<c;l++)o=d[l],s(o);this.addEventListener("shippingmethodselected",function(e){return u=e.shippingMethod}),this.addEventListener("validatemerchant",function(t){return function(n){var r;return r={method:"POST",url:""+Stripe.endpoint+"/apple_pay/sessions",headers:Stripe.applePay.stripeAccount?{"Stripe-Account":Stripe.applePay.stripeAccount}:{},data:{key:Stripe.key||Stripe.publishableKey,validation_url:n.validationURL,domain_name:window.location.hostname,display_name:e.total.label},success:function(e,n){var r;return null!=e.session?(r=Stripe.JSON.parse(e.session),t.session.completeMerchantValidation(r)):a(e)},complete:function(e,t,n){if("success"!==e)return a(t)},timeout:4e4},Stripe.request(r)}}(this)),this.addEventListener("paymentauthorized",function(n){return function(i){var o,a,s,l,c;return null!=n._stripeSkipTokenizationForDemo?void n.session.completePayment(ApplePaySession.STATUS_SUCCESS):(l=i.payment,"simulated identifier"===l.token.transactionIdentifier.toLowerCase()&&(o="4242424242424242",s=e.currencyCode.toLowerCase(),a=Stripe.utils.formatAmountWithCurrency(e.total.amount,s),c=Math.random().toString(36).slice(-10),l.token.transactionIdentifier=["ApplePayStubs",o,a,s,c].join("~"),l.token.paymentData=o),Stripe.applePay.createToken(l,function(e,i){var o;return null!=i.error?(n.session.completePayment(ApplePaySession.STATUS_FAILURE),"function"==typeof r?r(i.error):void 0):(o={token:i},null!=u&&(o.shippingMethod=u),null!=l.shippingContact&&(o.shippingContact=l.shippingContact),t(o,function(e){return e===ApplePaySession.STATUS_SUCCESS||e===ApplePaySession.STATUS_FAILURE||e===ApplePaySession.STATUS_INVALID_BILLING_POSTAL_ADDRESS||e===ApplePaySession.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS||e===ApplePaySession.STATUS_INVALID_SHIPPING_CONTACT?n.session.completePayment(e):e?n.session.completePayment(ApplePaySession.STATUS_SUCCESS):n.session.completePayment(ApplePaySession.STATUS_FAILURE)}))}))}}(this))}var n;return n=function(e){return e.supportedNetworks||(e.supportedNetworks=["amex","discover","masterCard","visa"]),e.merchantCapabilities=["supports3DS"],e},e.prototype.completeMerchantValidation=function(){throw new Error("Stripe handles calling this method for you; you shouldn't invoke it directly. For more help, see https://stripe.com/docs/apple-pay/web#apple-merchant-validation")},e.prototype.completePayment=function(){throw new Error("Stripe handles calling this method for you; you shouldn't invoke it directly. For more help, see https://stripe.com/docs/apple-pay/web#apple-merchant-validation")},e.prototype.abort=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.session).abort.apply(n,e)},e.prototype.addEventListener=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.session).addEventListener.apply(n,e)},e.prototype.begin=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.session).begin.apply(n,e)},e.prototype.completePaymentMethodSelection=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.session).completePaymentMethodSelection.apply(n,e)},e.prototype.completeShippingContactSelection=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.session).completeShippingContactSelection.apply(n,e)},e.prototype.completeShippingMethodSelection=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.session).completeShippingMethodSelection.apply(n,e)},e.prototype.supportsVersion=function(){var e,n;return e=1<=arguments.length?t.call(arguments,0):[],(n=this.session).supportsVersion.apply(n,e)},e}(),this.Stripe.ApplePaySession=e)}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.isDoubleLoaded||(this.Stripe.utils=function(){function t(){}var n;return n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.trim=function(e){return null===e?"":(e+"").replace(n,"")},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.serialize=function(e,t,n){var r,i,o;null==t&&(t=[]);try{for(i in e)o=e[i],n&&(i=""+n+"["+i+"]"),"object"==typeof o?this.serialize(o,t,i):t.push(""+i+"="+encodeURIComponent(o));return t.join("&").replace(/%20/g,"+")}catch(t){throw r=t,new Error("Unable to serialize: "+e)}},t.underscore=function(e){return(e+"").replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()}).replace(/-/g,"_")},t.underscoreKeys=function(e){var t,n,r;r=[];for(t in e)n=e[t],delete e[t],r.push(e[this.underscore(t)]=n);return r},t.isElement=function(e){return"object"==typeof e&&(!!e.jquery||1===e.nodeType)},t.addClass=function(e,t){return e.className=this._removedClassString(e,t)+" "+t},t.removeClass=function(e,t){return e.className=this._removedClassString(e,t)},t._removedClassString=function(e,t){return Stripe.utils.trim(e.className.replace(new RegExp("( |^)"+t+"( |$)","g")," "))},t.paramsFromForm=function(t,n){var r,i,o,a,s,u,l,c,p,d;for(null==n&&(n=[]),t.jquery&&(t=t[0]),o=t.getElementsByTagName("input"),s=t.getElementsByTagName("select"),u={},l=0,p=o.length;l<p;l++)i=o[l],r=this.underscore(i.getAttribute("data-stripe")),e.call(n,r)<0||(u[r]=i.value);for(c=0,d=s.length;c<d;c++)a=s[c],r=this.underscore(a.getAttribute("data-stripe")),e.call(n,r)<0||null!=a.selectedIndex&&(u[r]=a.options[a.selectedIndex].value);return u},t.validateProtocol=function(e){var t;if(e&&"string"==typeof e)return/_live_/g.test(e)&&"https:"!==window.location.protocol&&null!=(null!=(t=window.console)?t.warn:void 0)?window.console.warn("You are using Stripe.js in live mode over an insecure connection. This is considered unsafe. Please conduct live requests only on sites served over https. For more info, see https://stripe.com/help/ssl"):void 0},t.validateKey=function(e){if(!e||"string"!=typeof e)throw new Error("You did not set a valid publishable key. Call Stripe.setPublishableKey() with your publishable key. For more info, see https://stripe.com/docs/stripe.js");if(/\s/g.test(e))throw new Error("Your key is invalid, as it contains whitespace. For more info, see https://stripe.com/docs/stripe.js");if(/^sk_/.test(e))throw new Error("You are using a secret key with Stripe.js, instead of the publishable one. For more info, see https://stripe.com/docs/stripe.js")},t.parseExpString=function(e){var t,n,r,i,o,a,s,u,l;for(a=function(t){throw new Error("You passed an invalid expiration date `"+e+"`. "+(t||"")+"Please pass a string containing a numeric month and year such as `01-17` or `2015 / 05` For more info, see https://stripe.com/docs/stripe.js")},"string"!=typeof e&&a(),o=e.split(/[\.\-\/\s]+/g),2!==o.length&&a(),t=u=0,l=o.length;u<l;t=++u)i=o[t],r=parseInt(i),isNaN(r)&&a(""+o+" is not a number. "),r<1&&a(""+r+" is less than one. "),o[t]=r;return o[0]>12?(s=o[0],n=o[1]):(n=o[0],s=o[1]),n>12&&a("Month must be a number 1-12, not "+n+". "),s<100&&(s+=2e3),[n,s]},t.formatAmountWithCurrency=function(t,n){var r,i,o;return r=parseFloat(t),i=["bif","clp","djf","gnf","jpy","kmf","krw","mga","pyg","rwf","vnd","vuv","xaf","xof","xpf"],o=n.toLowerCase(),e.call(i,o)<0&&(r=Math.round(100*r)),parseInt(r)},t}())}.call(this),function(){var e,t=[].slice;e=(new Date).getTime(),this.Stripe.isDoubleLoaded||(this.Stripe.ajaxJSONP=function(n){var r,i,o,a,s,u,l;return null==n&&(n={}),o="sjsonp"+ ++e,u=document.createElement("script"),i=null,r=function(e){var t;return null==e&&(e="abort"),clearTimeout(i),null!=(t=u.parentNode)&&t.removeChild(u),o in window&&(window[o]=function(){}),"function"==typeof n.complete?n.complete(e,l,n):void 0},l={abort:r},u.onerror=function(){return l.abort(),"function"==typeof n.error?n.error(l,n):void 0},window[o]=function(){var e,r;e=1<=arguments.length?t.call(arguments,0):[],clearTimeout(i),u.parentNode.removeChild(u);try{delete window[o]}catch(e){r=e,window[o]=void 0}return"function"==typeof n.success&&n.success.apply(n,t.call(e).concat([l])),"function"==typeof n.complete?n.complete("success",l,n):void 0},s=(n.headers||{})["Accept-Language"],n.data||(n.data={}),n.data.callback=o,n.method&&(n.data._method=n.method),s&&(n.data._accept_language=s),u.src=n.url+"?"+Stripe.utils.serialize(n.data),a=document.getElementsByTagName("head")[0],a.appendChild(u),n.timeout>0&&(i=setTimeout(function(){return l.abort("timeout")},n.timeout)),l})}.call(this),function(){var e,t,n,r,i,o,a,s,u,l={}.hasOwnProperty;this.Stripe.isDoubleLoaded||(t={contentType:"application/x-www-form-urlencoded",accept:{json:"application/json"}},a=/^(20\d|1223)$/,o="invalid_json_response",r=function(e,t,n){return function(){return e._aborted?n(e.request,"abort"):e.request&&4===e.request.readyState?(e.request.onreadystatechange=function(){},0===e.request.status?n(e.request,"empty_response"):a.test(e.request.status)?t(e.request,e.request.status):t(e.request,e.request.status)):void 0}},s=function(e,n){var r,i,o,a,s;o=n.headers||{},o.Accept||(o.Accept=t.accept.json),o["Content-Type"]||(o["Content-Type"]=t.contentType),a=n._globalCustomHeaders;for(r in a)l.call(a,r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n._globalCustomHeaders[r]);s=[];for(i in o)l.call(o,i)&&("setRequestHeader"in e?s.push(e.setRequestHeader(i,o[i])):s.push(void 0));return s},u=function(e,t){return/\?/.test(e)?e+"&"+t:e+"?"+t},n=function(e,t){var n,i,o,a,l,c,p,d,f;c=this.o,l=(c.method||"GET").toUpperCase(),p=c.url,a=null!=(d=c.data)?d.key:void 0,n=Stripe.utils.serialize(c.data),o=void 0,"GET"===l&&n&&(p=u(p,n),n=null),f=new XMLHttpRequest,f.open(l,p,!0),s(f,c),f.onreadystatechange=r(this,e,t);try{f.send(n)}catch(e){i=e,Stripe.reportError("XHR-"+i.toString()),t(f,"xhr_send_failure")}return f},e=function(e){return this.o=e,i.apply(this,arguments)},i=function(e){var t,r,i;return this.url=e.url,this.timeout=null,this._successHandler=function(){},this._errorHandlers=[],this._completeHandlers=[],e.timeout&&(this.timeout=setTimeout(function(e){return function(){return e.abort()}}(this),e.timeout)),e.success&&(this._successHandler=function(){return e.success.apply(e,arguments)}),e.error&&this._errorHandlers.push(function(){return e.error.apply(e,arguments)}),e.complete&&this._completeHandlers.push(function(){return e.complete.apply(e,arguments)}),t=function(t){return function(n,r){var i;for(e.timeout&&clearTimeout(t.timeout),t.timeout=null,i=[];t._completeHandlers.length>0;)i.push(t._completeHandlers.shift()(r,n,e));return i}}(this),i=function(e){return function(n,i){var a,s,u;if(u=n.responseText,!u||!u.length)return r(n,"empty_response");try{return s=Stripe.JSON.parse(u),e._successHandler(s,i,n),t(s,"success")}catch(e){return a=e,r(n,o)}}}(this),r=function(e){return function(t,n){var r,i,a;if(a=t.responseText,i=void 0,a&&a.length&&n!==o)try{i=Stripe.JSON.parse(a)}catch(e){r=e,n=n+"_AND_"+o}for(;e._errorHandlers.length>0;)e._errorHandlers.shift()(i||t,n);return Stripe.reportError(n),Stripe._fallBackToOldStripeJsTechniques(),Stripe.request(e.o,!0)}}(this),this.request=n.call(this,i,r)},e.prototype={abort:function(){var e;return this._aborted=!0,null!=(e=this.request)?e.abort():void 0}},this.Stripe.xhr=function(t){return t._globalCustomHeaders=this._customHeaders,new e(t)})}.call(this),function(){var e,t,n,r={}.hasOwnProperty;this.Stripe.isDoubleLoaded||(e=function(e){return this.options=e,e.requestId=Stripe._callCount,e.endpoint=Stripe.endpoint,e.trackPerf=Stripe.trackPerf,this.iframeTimeout=setTimeout(function(){return Stripe._fallBackToOldStripeJsTechniques(),Stripe._iframePendingRequests[e.requestId]&&(Stripe.request(Stripe._iframePendingRequests[e.requestId],!0),delete Stripe._iframePendingRequests[e.requestId]),Stripe._callCache[e.requestId]=function(){return Stripe.reportError("TimeoutEventualReturnError")}},1e4),Stripe._iframePendingRequests[e.requestId]=e,Stripe._callCache[e.requestId]=function(t){return function(){return clearTimeout(t.iframeTimeout),delete Stripe._iframePendingRequests[e.requestId],e.success.apply(e,arguments),"function"==typeof e.complete?e.complete("success",null,e):void 0}}(this),Stripe._callCount+=1,Stripe._socket.postMessage(Stripe.JSON.stringify(e))},this.Stripe.iframe=function(t){return new e(t)},t=Stripe.easyXDM,this.Stripe._isChannel?Stripe._socket=new t.Socket({swf:""+Stripe._iframeBaseUrl+"/v2/stripexdm.swf",onMessage:Stripe._channelListener}):Stripe._isSafeDomain||(n=function(e){var t,r,i;"console"in window&&"warn"in window.console,Stripe._iframeChannelComplete.call(Stripe,!1),Stripe._callCache={},Stripe.reportError("FB-"+e),r=document.createElement("script"),i=Math.round((new Date).getTime()/1e3),r.src=""+Stripe._iframeBaseUrl+"/v2/cspblocked.js?domain="+encodeURIComponent(document.location.href)+"&timestamp="+i+"&info="+encodeURIComponent(e)+"&payment_user_agent="+encodeURIComponent(Stripe.stripejs_ua),t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(r,t),n=function(){}},Stripe._socket=new t.Socket({swf:""+Stripe._iframeBaseUrl+"/v2/stripexdm.swf",remote:""+Stripe._iframeBaseUrl+"/v2/channel"+(Stripe.accountDetails?"-provisioning":"")+".html#__stripe_transport__",onMessage:Stripe._receiveChannelRelay,ackTimeoutDuration:1e4,onLoad:function(){return this._socketLoadTime=+new Date,this.onError=function(){},this.onAsyncInject=function(){},clearTimeout(this.injectTimeout),this._socketAckTime?this.loadTimeout?(clearTimeout(this.loadTimeout),Stripe._iframeChannelComplete.call(Stripe,!0)):Stripe.reportError("LoadDelayError",this._socketLoadTime-this._socketAckTime):this.ackTimeout=setTimeout(function(e){return function(){return e.onFrameAck=function(){},clearTimeout(e.loadTimeout),n("AckTimeoutError")}}(this),this.ackTimeoutDuration)},onError:function(){return this.onLoad=function(){},this.onAsyncInject=function(){},this.onFrameAck=function(){},clearTimeout(this.ackTimeout),clearTimeout(this.injectTimeout),clearTimeout(this.loadTimeout),n("IframeOnError")},onInternalError:function(e){var t,n,i;this.onError=function(){},this.onLoad=function(){},this.onFrameAck=function(){},this.onAsyncInject=function(){},clearTimeout(this.ackTimeout),clearTimeout(this.loadTimeout),clearTimeout(this.injectTimeout),Stripe.reportError("FB-XDM-"+e),Stripe._fallBackToOldStripeJsTechniques(),i=Stripe._iframePendingRequests;for(t in i)r.call(i,t)&&(n=i[t],Stripe._callCache[n.requestId]=function(){},delete Stripe._iframePendingRequests[n.requestId],Stripe.request(n,!0))},onAsyncInject:function(e){return this.injectTimeout=setTimeout(function(e){return function(){return e.onError=function(){},e.onLoad=function(){},e.onFrameAck=function(){},clearTimeout(e.ackTimeout),clearTimeout(e.loadTimeout),n("InjectTimeoutError")}}(this),this.ackTimeoutDuration)},onFrameAck:function(e){return this._socketAckTime=+new Date,clearTimeout(this.ackTimeout),clearTimeout(this.injectTimeout),this.onAsyncInject=function(){},this.onError=function(){},this.ackTimeout?Stripe._iframeChannelComplete.call(Stripe,!0):this._socketLoadTime?(this.onLoad=function(){},Stripe.reportError("AckDelayError",this._socketAckTime-this._socketLoadTime)):this.loadTimeout=setTimeout(function(e){return function(){return n("LoadTimeoutError"),e.onLoad=function(){}}}(this),this.ackTimeoutDuration)}})))}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};this.Stripe.isDoubleLoaded||(this.Stripe.validator={boolean:function(e,t){if("true"!==t&&"false"!==t)return"Enter a boolean string (true or false)"},integer:function(e,t){if(!/^\d+$/.test(t))return"Enter an integer"},positive:function(e,t){if(this.integer(e,t)||!(parseInt(t,10)>0))return"Enter a positive value"},range:function(t,n){var r;if(r=parseInt(n,10),e.call(t,r)<0)return"Needs to be between "+t[0]+" and "+t[t.length-1]},required:function(e,t){if(e&&(null==t||""===t))return"Required"},year:function(e,t){if(!/^\d{4}$/.test(t))return"Enter a 4-digit year"},birthYear:function(e,t){var n;return n=this.year(e,t),n?n:parseInt(t,10)>2e3?"You must be over 18":parseInt(t,10)<1900?"Enter your birth year":void 0},month:function(e,t){return this.integer(e,t)?"Please enter a month":this.range([1,2,3,4,5,6,7,8,9,10,11,12],t)?"Needs to be between 1 and 12":void 0},choices:function(t,n){if(e.call(t,n)<0)return"Not an acceptable value for this field"},email:function(e,t){if(!/^[^@<\s>]+@[^@<\s>]+$/.test(t))return"That doesn't look like an email address"},url:function(e,t){if(!/^https?:\/\/.+\..+/.test(t))return"Not a valid url"},usTaxID:function(e,t){if(!/^\d{2}-?\d{1}-?\d{2}-?\d{4}$/.test(t))return"Not a valid tax ID"},ein:function(e,t){if(!/^\d{2}-?\d{7}$/.test(t))return"Not a valid EIN"},ssnLast4:function(e,t){if(!/^\d{4}$/.test(t))return"Not a valid last 4 digits for an SSN"},ownerPersonalID:function(e,t){var n;if(n=function(){switch(e){case"CA":return/^\d{3}-?\d{3}-?\d{3}$/.test(t);case"US":return!0}}(),!n)return"Not a valid ID"},bizTaxID:function(e,t){var n,r,i,o,a,s,u,l;if(s={CA:["Tax ID",[/^\d{9}$/]],US:["EIN",[/^\d{2}-?\d{7}$/]]},a=s[e],null!=a){for(n=a[0],o=a[1],r=!1,u=0,l=o.length;u<l;u++)if(i=o[u],i.test(t)){r=!0;break}if(!r)return"Not a valid "+n}},zip:function(e,t){var n;if(n=function(){switch(e.toUpperCase()){case"CA":return/^[\d\w]{6}$/.test(null!=t?t.replace(/\s+/g,""):void 0);case"US":return/^\d{5}$/.test(t)||/^\d{9}$/.test(t)}}(),!n)return"Not a valid zip"},bankAccountNumber:function(e,t){if(!/^\d{1,17}$/.test(t))return"Invalid bank account number"},usRoutingNumber:function(e){var t,n,r,i,o,a,s;if(!/^\d{9}$/.test(e))return"Routing number must have 9 digits";for(o=0,t=a=0,s=e.length-1;a<=s;t=a+=3)n=3*parseInt(e.charAt(t),10),r=7*parseInt(e.charAt(t+1),10),i=parseInt(e.charAt(t+2),10),o+=n+r+i;return 0===o||o%10!==0?"Invalid routing number":void 0},caRoutingNumber:function(e){if(!/^\d{5}\-\d{3}$/.test(e))return"Invalid transit number"},routingNumber:function(e,t){switch(e.toUpperCase()){case"CA":return this.caRoutingNumber(t);case"US":return this.usRoutingNumber(t)}},phoneNumber:function(e,t){var n;if(n=t.replace(/[^0-9]/g,""),10!==n.length)return"Invalid phone number"},bizDBA:function(e,t){if(!/^.{1,23}$/.test(t))return"Statement descriptors can only have up to 23 characters"},nameLength:function(e,t){if(1===t.length)return"Names need to be longer than one character"},isUrl:function(e){return"string"==typeof e&&!this.url(null,e)},isElementOrId:function(e){return"object"==typeof e&&null!=e.appendChild||"string"==typeof e}})}.call(this),$(function(){ParallaxScroll.init()});var ParallaxScroll={showLogs:!1,round:1e3,init:function(){return this._log("init"),this._inited?(this._log("Already Inited"),void(this._inited=!0)):(this._requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}}(),void this._onScroll(!0))},_inited:!1,_properties:["x","y","z","rotateX","rotateY","rotateZ","scaleX","scaleY","scaleZ","scale"],_requestAnimationFrame:null,_log:function(e){this.showLogs&&console.log("Parallax Scroll / "+e)},_onScroll:function(e){var t=$(document).scrollTop(),n=$(window).height();this._log("onScroll "+t),$("[data-parallax]").each($.proxy(function(r,i){var o=$(i),a=[],s=!1,u=o.data("style");void 0==u&&(u=o.attr("style")||"",o.data("style",u));var l=[o.data("parallax")],c;for(c=2;o.data("parallax"+c);c++)l.push(o.data("parallax-"+c));var p=l.length;for(c=0;p>c;c++){var d=l[c],f=d["from-scroll"];void 0==f&&(f=Math.max(0,$(i).offset().top-n)),f=0|f;var h=d.distance,m=d["to-scroll"];void 0==h&&void 0==m&&(h=n),h=Math.max(0|h,1);var y=d.easing,v=d["easing-return"];if(void 0!=y&&$.easing&&$.easing[y]||(y=null),void 0!=v&&$.easing&&$.easing[v]||(v=y),y){var g=d.duration;void 0==g&&(g=h),g=Math.max(0|g,1);var _=d["duration-return"];void 0==_&&(_=g),h=1;var b=o.data("current-time");void 0==b&&(b=0)}void 0==m&&(m=f+h),m=0|m;var w=d.smoothness;void 0==w&&(w=30),w=0|w,(e||0==w)&&(w=1),w=0|w;var S=t;S=Math.max(S,f),S=Math.min(S,m),y&&(void 0==o.data("sens")&&o.data("sens","back"),S>f&&("back"==o.data("sens")?(b=1,o.data("sens","go")):b++),m>S&&("go"==o.data("sens")?(b=1,o.data("sens","back")):b++),e&&(b=g),o.data("current-time",b)),this._properties.map($.proxy(function(e){var t=0,n=d[e];if(void 0!=n){"scale"==e||"scaleX"==e||"scaleY"==e||"scaleZ"==e?t=1:n=0|n;var r=o.data("_"+e);void 0==r&&(r=t);var i=(n-t)*((S-f)/(m-f))+t,u=r+(i-r)/w;if(y&&b>0&&g>=b){var l=t;"back"==o.data("sens")&&(l=n,n=-n,y=v,g=_),u=$.easing[y](null,b,l,n,g)}u=Math.ceil(u*this.round)/this.round,u==r&&i==n&&(u=n),a[e]||(a[e]=0),a[e]+=u,r!=a[e]&&(o.data("_"+e,a[e]),s=!0)}},this))}if(s){if(void 0!=a.z){var C=d.perspective;void 0==C&&(C=800);var k=o.parent();k.data("style")||k.data("style",k.attr("style")||""),k.attr("style","perspective:"+C+"px; -webkit-perspective:"+C+"px; "+k.data("style"))}void 0==a.scaleX&&(a.scaleX=1),void 0==a.scaleY&&(a.scaleY=1),void 0==a.scaleZ&&(a.scaleZ=1),void 0!=a.scale&&(a.scaleX*=a.scale,a.scaleY*=a.scale,a.scaleZ*=a.scale);var j="translate3d("+(a.x?a.x:0)+"px, "+(a.y?a.y:0)+"px, "+(a.z?a.z:0)+"px)",T="rotateX("+(a.rotateX?a.rotateX:0)+"deg) rotateY("+(a.rotateY?a.rotateY:0)+"deg) rotateZ("+(a.rotateZ?a.rotateZ:0)+"deg)",A="scaleX("+a.scaleX+") scaleY("+a.scaleY+") scaleZ("+a.scaleZ+")",Q=j+" "+T+" "+A+";";this._log(Q),o.attr("style","transform:"+Q+" -webkit-transform:"+Q+" "+u)}},this)),window.requestAnimationFrame?window.requestAnimationFrame($.proxy(this._onScroll,this,!1)):this._requestAnimationFrame($.proxy(this._onScroll,this,!1))}};!function($){function e(e,t){return e.toFixed(t.decimals)}$.fn.countTo=function(e){return e=e||{},$(this).each(function(){function t(e){var t=r.formatter.call(a,e,r);s.text(t)}function n(){l+=o,u++,t(l),"function"==typeof r.onUpdate&&r.onUpdate.call(a,l),u>=i&&(s.removeData("countTo"),clearInterval(c.interval),l=r.to,"function"==typeof r.onComplete&&r.onComplete.call(a,l))}var r=$.extend({},$.fn.countTo.defaults,{from:$(this).data("from"),to:$(this).data("to"),speed:$(this).data("speed"),refreshInterval:$(this).data("refresh-interval"),decimals:$(this).data("decimals")},e),i=Math.ceil(r.speed/r.refreshInterval),o=(r.to-r.from)/i,a=this,s=$(this),u=0,l=r.from,c=s.data("countTo")||{};s.data("countTo",c),c.interval&&clearInterval(c.interval),t(l),c.interval=setInterval(n,r.refreshInterval)})},$.fn.countTo.defaults={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:e,onUpdate:null,onComplete:null}}(jQuery),!function(e){if("function"==typeof define&&define.amd)define(["$"],e);else{var t=window.Mobify&&window.Mobify.$||window.Zepto||window.jQuery;e(t)}}(function(e){var t=function(e){var t={},n=navigator.userAgent,r=e.support=e.support||{};e.extend(e.support,{touch:"ontouchend"in document}),t.events=r.touch?{down:"touchstart",move:"touchmove",up:"touchend"}:{down:"mousedown",move:"mousemove",up:"mouseup"},t.getCursorPosition=r.touch?function(e){return e=e.originalEvent||e,{x:e.touches[0].clientX,y:e.touches[0].clientY}}:function(e){return{x:e.clientX,y:e.clientY}},t.getProperty=function(e){for(var t=["Webkit","Moz","O","ms",""],n=document.createElement("div").style,r=0;t.length>r;++r)if(void 0!==n[t[r]+e])return t[r]+e},e.extend(r,{transform:!!t.getProperty("Transform"),transform3d:!(!(window.WebKitCSSMatrix&&"m11"in new WebKitCSSMatrix)||/android\s+[1-2]/i.test(n))});var i=t.getProperty("Transform");t.translateX=r.transform3d?function(e,t){"number"==typeof t&&(t+="px"),e.style[i]="translate3d("+t+",0,0)"}:r.transform?function(e,t){"number"==typeof t&&(t+="px"),e.style[i]="translate("+t+",0)"}:function(e,t){"number"==typeof t&&(t+="px"),e.style.left=t};var o=(t.getProperty("Transition"),t.getProperty("TransitionDuration"));return t.setTransitions=function(e,t){e.style[o]=t?"":"0s"},t.requestAnimationFrame=function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},t=function(){e.apply(window,arguments)};return t}(),t}(e),n=function(e,t){var n={dragRadius:10,moveRadius:20,animate:!0,autoHideArrows:!1,classPrefix:"m-",classNames:{outer:"scooch",inner:"scooch-inner",item:"item",center:"center",touch:"has-touch",dragging:"dragging",active:"active",inactive:"inactive",fluid:"fluid"}},r=e.support,i=function(e,t){this.setOptions(t),this.initElements(e),this.initOffsets(),this.initAnimation(),this.bind(),this._updateCallbacks=[]};return i.defaults=n,i.prototype.setOptions=function(t){var r=this.options||e.extend({},n,t);r.classNames=e.extend({},r.classNames,t.classNames||{}),this.options=r},i.prototype.initElements=function(t){this._index=1,this.element=t,this.$element=e(t),this.$inner=this.$element.find("."+this._getClass("inner")),this.$items=this.$inner.children(),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this.$current=this.$items.eq(this._index-1),this._length=this.$items.length,this._alignment=this.$element.hasClass(this._getClass("center"))?.5:0,this._isFluid=this.$element.hasClass(this._getClass("fluid"))},i.prototype.initOffsets=function(){this._offsetDrag=0},i.prototype.initAnimation=function(){this.animating=!1,this.dragging=!1,this._needsUpdate=!1,this._enableAnimation()},i.prototype._getClass=function(e){return this.options.classPrefix+this.options.classNames[e]},i.prototype._enableAnimation=function(){this.animating||(t.setTransitions(this.$inner[0],!0),this.$inner.removeClass(this._getClass("dragging")),this.animating=!0)},i.prototype._disableAnimation=function(){this.animating&&(t.setTransitions(this.$inner[0],!1),this.$inner.addClass(this._getClass("dragging")),this.animating=!1)},i.prototype.refresh=function(){this.$items=this.$inner.children("."+this._getClass("item")),this.$start=this.$items.eq(0),this.$sec=this.$items.eq(1),this._length=this.$items.length,this.update()},i.prototype.update=function(e){if(void 0!==e&&this._updateCallbacks.push(e),!this._needsUpdate){this._needsUpdate=!0;var n=this;t.requestAnimationFrame(function(){n._update(),setTimeout(function(){for(var e=0,t=n._updateCallbacks.length;t>e;e++)n._updateCallbacks[e].call(n);n._updateCallbacks=[]},10)})}},i.prototype._update=function(){if(this._needsUpdate){var e=this.$current,n=this.$start,r=e.prop("offsetLeft")+e.prop("clientWidth")*this._alignment,i=n.prop("offsetLeft")+n.prop("clientWidth")*this._alignment,o=Math.round(-(r-i)+this._offsetDrag);t.translateX(this.$inner[0],o),this._needsUpdate=!1}},i.prototype.bind=function(){function n(e){r.touch||e.preventDefault(),d=!0,f=!1,s=t.getCursorPosition(e),u=0,l=0,c=!1,m._disableAnimation(),$=1==m._index,_=m._index==m._length}function i(e){if(d&&!f){var n=t.getCursorPosition(e),r=m.$element.width();u=s.x-n.x,l=s.y-n.y,c||p(u)>p(l)&&p(u)>h?(c=!0,e.preventDefault(),$&&0>u?u=u*-r/(u-r):_&&u>0&&(u=u*r/(u+r)),
m._offsetDrag=-u,m.update()):p(l)>p(u)&&p(l)>h&&(f=!0)}}function o(){d&&(d=!1,m._enableAnimation(),!f&&p(u)>g.moveRadius?u>0?m.next():m.prev():(m._offsetDrag=0,m.update()))}function a(e){c&&e.preventDefault()}var s,u,l,c,p=Math.abs,d=!1,f=!1,h=this.options.dragRadius,m=this,y=this.$element,v=this.$inner,g=this.options,$=!1,_=!1,b=e(window).width();v.on(t.events.down+".scooch",n).on(t.events.move+".scooch",i).on(t.events.up+".scooch",o).on("click.scooch",a).on("mouseout.scooch",o),y.on("click","[data-m-slide]",function(t){t.preventDefault();var n=e(this).attr("data-m-slide"),r=parseInt(n,10);isNaN(r)?m[n]():m.move(r)}),y.on("afterSlide",function(e,t,n){m.$items.eq(t-1).removeClass(m._getClass("active")),m.$items.eq(n-1).addClass(m._getClass("active")),m.$element.find("[data-m-slide='"+t+"']").removeClass(m._getClass("active")),m.$element.find("[data-m-slide='"+n+"']").addClass(m._getClass("active")),g.autoHideArrows&&(1===n?(m.$element.find("[data-m-slide=prev]").addClass(m._getClass("inactive")),m.$element.find("[data-m-slide=next]").removeClass(m._getClass("inactive"))):n===m._length?(m.$element.find("[data-m-slide=next]").addClass(m._getClass("inactive")),m.$element.find("[data-m-slide=prev]").removeClass(m._getClass("inactive"))):(m.$element.find("[data-m-slide=prev]").removeClass(m._getClass("inactive")),m.$element.find("[data-m-slide=next]").removeClass(m._getClass("inactive"))))}),e(window).on("resize orientationchange",function(){b!=e(window).width()&&(m._disableAnimation(),b=e(window).width(),m.update())}),y.trigger("beforeSlide",[1,1]),y.trigger("afterSlide",[1,1]),m.update()},i.prototype.unbind=function(){this.$inner.off()},i.prototype.destroy=function(){this.unbind(),this.$element.trigger("destroy"),this.$element.remove(),this.$element=null,this.$inner=null,this.$start=null,this.$current=null},i.prototype.move=function(t,n){var r=this.$element,i=(this.$inner,this.$items),o=(this.$start,this.$current),a=this._length,s=this._index;n=e.extend({},this.options,n),1>t?t=1:t>this._length&&(t=a),t==this._index,n.animate?this._enableAnimation():this._disableAnimation(),r.trigger("beforeSlide",[s,t]),this.$current=o=i.eq(t-1),this._offsetDrag=0,this._index=t,n.animate?this.update():this.update(function(){this._enableAnimation()}),r.trigger("afterSlide",[s,t])},i.prototype.next=function(){this.move(this._index+1)},i.prototype.prev=function(){this.move(this._index-1)},i}(e,t);e.fn.scooch=function(t,r){var i=e.extend({},e.fn.scooch.defaults);return"object"==typeof t&&(e.extend(i,t,!0),r=null,t=null),r=Array.prototype.slice.apply(arguments),this.each(function(){var o=(e(this),this._scooch);o||(o=new n(this,i)),t&&(o[t].apply(o,r.slice(1)),"destroy"===t&&(o=null)),this._scooch=o}),this},e.fn.scooch.defaults={}}),!function($){$.fn.unveil=function(e,t){function n(){var e=s.filter(function(){var e=$(this);if(!e.is(":hidden")){var t=r.scrollTop(),n=t+r.height(),o=e.offset().top,a=o+e.height();return a>=t-i&&o<=n+i}});u=e.trigger("unveil"),s=s.not(u)}var r=$(window),i=e||0,o=window.devicePixelRatio>1,a=o?"data-src-retina":"data-src",s=this,u;return this.one("unveil",function(){var e=this.getAttribute(a);e=e||this.getAttribute("data-src"),e&&(this.setAttribute("src",e),"function"==typeof t&&t.call(this))}),r.on("scroll.unveil resize.unveil lookup.unveil",n),n(),this}}(window.jQuery||window.Zepto);var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),ajaxurl=meta.ajaxurl,pKey=meta.publishable_key,move={onMove:function(){move.slideUp(),move.slideDown(),move.slideInLeft(),move.slideInRight(),move.bubble()},isOnScreen:function(e){if(e.length){var t=jQuery(e),n=jQuery(window),r={top:n.scrollTop(),left:n.scrollLeft()};r.right=r.left+n.width(),r.bottom=r.top+n.height();var i=t.offset();return i.right=i.left+t.outerWidth(),i.bottom=i.top+t.outerHeight(),!(r.right<i.left||r.left>i.right||r.bottom<i.top||r.top>i.bottom)}},slideUp:function(){var e=jQuery('*[data-animation="slideUp"]');e.length>0&&e.each(function(){var e=jQuery(this);move.isOnScreen(e)?e.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(e)&&e.addClass("slideIn")})})},slideDown:function(){var e=jQuery('*[data-animation="slideDown"]');e.length>0&&e.each(function(){var e=jQuery(this);move.isOnScreen(e)?e.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(e)&&e.addClass("slideIn")})})},slideInLeft:function(){var e=jQuery('*[data-animation="slideInLeft"]');e.length>0&&e.each(function(){var e=jQuery(this),t=jQuery(this).parent();move.isOnScreen(t)?e.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(t)&&e.addClass("slideIn")})})},slideInRight:function(){var e=jQuery('*[data-animation="slideInRight"]');e.length>0&&e.each(function(){var e=jQuery(this),t=jQuery(this).parent();move.isOnScreen(t)?e.addClass("slideIn"):jQuery(window).scroll(function(){move.isOnScreen(t)&&e.addClass("slideIn")})})},bubble:function(){var e=jQuery('*[data-animation="bubble"]');e.length>0&&e.each(function(){var e=jQuery(this),t=jQuery(this).parent();move.isOnScreen(t)?e.addClass("load"):jQuery(window).scroll(function(){move.isOnScreen(t)&&e.addClass("load")})})}},init={onReady:function(){init.preLoad(),init.openMenu(),init.bubbleOpen(),init.bubbleClose(),init.SVG(),init.dropdown(),init.contactBtn(),init.count(),init.scooch(),init.wizard(),init.playVideo(),isMobile||init.topVideos(),init.tooltip(),init.subNav(),init.mobileBubbles(),init.checkoutBtn()},preLoad:function(){jQuery(window).load(function(){jQuery("#loader").fadeOut(),jQuery("body").removeClass("freeze"),jQuery("img[data-src]").unveil()})},mobileBubbles:function(){jQuery("#bubblesMobile .frame").click(function(e){e.preventDefault();var t=jQuery(this),n=jQuery(".frameCopy",this);t.hasClass("open")?(n.slideUp(),t.removeClass("open")):(jQuery("#bubblesMobile .frame .frameCopy").slideUp(),setTimeout(function(){jQuery("html,body").animate({scrollTop:t.offset().top-94},250,function(){n.slideDown(),t.addClass("open")})},500))})},subNav:function(){var e=jQuery("#pageBanner").outerHeight();jQuery(window).scroll(function(){jQuery(window).scrollTop()>e-50?jQuery("#Menu").addClass("blue"):jQuery("#Menu").removeClass("blue")})},tooltip:function(){jQuery(".bubblenav li.nav").hover(function(){var e=jQuery(this).attr("title");jQuery(this).append('<div class="tooltip">'+e+"</div>"),setTimeout(function(){jQuery(".tooltip").addClass("in")},50)},function(){jQuery(".tooltip").remove()})},topVideos:function(){jQuery("body").hasClass("home")&&(jQuery("#videos .active")[0].play(),setTimeout(function(){jQuery("#videos").removeClass("slideIn")},7500),setTimeout(function(){jQuery("#videos .active").removeClass("active").next().addClass("active")[0].play(),jQuery("#videos").addClass("slideIn")},8500),setTimeout(function(){jQuery("#videos").removeClass("slideIn")},22500),setTimeout(function(){jQuery("#videos .active").removeClass("active").next().addClass("active")[0].play(),jQuery("#videos").addClass("slideIn")},23500),setTimeout(function(){jQuery("#videos").removeClass("slideIn")},31500),setTimeout(function(){jQuery("#videos .active").removeClass("active").prev().prev().addClass("active"),init.topVideos(),jQuery("#videos").addClass("slideIn")},33e3))},playVideo:function(){var e=jQuery("#help video");e.prop("loop",!1),playing=!1,move.isOnScreen(e)?(e[0].play(),playing=!0):jQuery(window).scroll(function(){move.isOnScreen(e)&&!playing&&(e[0].play(),playing=!0)}),jQuery("#video .playwrap").click(function(){jQuery("#video video").attr("controls","controls"),jQuery("#video").addClass("playing"),jQuery("#video video")[0].play()})},wizard:function(){jQuery(".btn-wizard").click(function(e){e.preventDefault(),jQuery("#checkout").fadeIn(),jQuery("body").addClass("freeze")}),jQuery("#checkout .close").click(function(){jQuery("#checkout").fadeOut(),jQuery("body").removeClass("freeze"),jQuery(".right").removeClass("confirm")})},scooch:function(){var e=jQuery(".m-scooch");e.length&&e.scooch()},count:function(){var e=jQuery("#metrics"),t=!1;e.length&&(move.isOnScreen(e)&&t===!1?(jQuery(".timer").countTo(),t=!0):jQuery(window).scroll(function(){move.isOnScreen(e)&&t===!1&&(jQuery(".timer").countTo(),t=!0)}))},dropdown:function(){removeClass=!1,jQuery(".dropdown button").click(function(e){e.preventDefault(),jQuery(".dropdown ul").removeClass("show"),jQuery(this).next().addClass("show"),removeClass=!1}),jQuery("html").click(function(){removeClass&&jQuery(".dropdown ul").removeClass("show"),removeClass=!0}),jQuery(".dropdown ul li").click(function(e){e.preventDefault();var t=jQuery(this).attr("data-value"),n=jQuery(this).parent().attr("data-input"),r=jQuery(this).parent().prev(),i=jQuery(this).text();jQuery("#"+n).val(t),jQuery(".dropdown ul").removeClass("show"),jQuery(r).addClass("selected"),jQuery(r).text(i),jQuery(r).append('<i class="fa fa-angle-down"></i>')})},SVG:function(){jQuery("img.svg").each(function(){var e=jQuery(this),t=e.attr("id"),n=e.attr("class"),r=e.attr("src");jQuery.get(r,function(r){var i=jQuery(r).find("svg");"undefined"!=typeof t&&(i=i.attr("id",t)),"undefined"!=typeof n&&(i=i.attr("class",n+" replaced-svg")),i=i.removeAttr("xmlns:a"),e.replaceWith(i)},"xml")})},openMenu:function(){jQuery("#Menu").click(function(){jQuery("header").hasClass("open")?(jQuery("header").removeClass("open"),jQuery(".menu ul li").removeClass("in").dequeue()):(jQuery("header").addClass("open"),jQuery(".menu ul li").each(function(e){jQuery(this).delay(50*e).queue(function(){jQuery(this).addClass("in")})}))}),jQuery(".menu").addClass("outer"),jQuery(".menu ul").addClass("inner")},bubbleOpen:function(){jQuery(".bubblewrap").click(function(e){e.preventDefault();var t=jQuery(this).parent(),n=t.find("i"),r=jQuery(this).attr("data-numb");t.addClass("open"),n.addClass("hide"),jQuery("body").addClass("freeze"),setTimeout(function(){jQuery(".frame",t).addClass("in"),jQuery(".bubblenav").addClass("in"),jQuery(".nav-"+r).addClass("selected")},250)})},bubbleClose:function(){jQuery(".bubblenav li").click(function(e){e.preventDefault();var t=jQuery(this).attr("data-numb"),n=jQuery(".bubble-"+t).parent();jQuery("#Menu").hide(),jQuery(this).hasClass("circleClose")?(jQuery(".frame").removeClass("in"),jQuery(".bubblenav").removeClass("in"),jQuery(".nav").removeClass("selected"),setTimeout(function(){jQuery("#bubbles li").removeClass("open")},250),setTimeout(function(){jQuery("#bubbles li").find("i").removeClass("hide")},500),jQuery("#Menu").show(),jQuery("body").removeClass("freeze")):(jQuery(".nav").removeClass("selected"),jQuery("#bubbles li").removeClass("open"),n.addClass("open"),n.find("i").addClass("hide"),setTimeout(function(){jQuery(".frame").removeClass("in"),jQuery(".frame",n).addClass("in"),jQuery(".nav-"+t).addClass("selected")},250))})},contactSubmit:function(){var e=jQuery("#contactfrm");return jQuery('<i class="fa fa-spinner fa-spin"></i>').prependTo(".btn-submit"),jQuery.ajax({url:ajaxurl,type:e.attr("method"),data:{firstname:jQuery("#firstname").val(),lastname:jQuery("#lastname").val(),company:jQuery("#company").val(),title:jQuery("#title").val(),emailaddress:jQuery("#emailaddress").val(),interest:jQuery("#interest").val(),message:jQuery("#message").val(),action:"sendContact"},dataType:"html",beforeSubmit:function(e,t,n){e.push({name:"nonce",value:meta.nonce})},success:function(e){init.contactResponse(e)}}),!1},contactResponse:function(e){jQuery(".btn-submit i").remove(),"Success"===e&&(jQuery(".btn-submit").replaceWith('<button class="btn btn-submit success"><i class="fa fa-check"></i></button>'),jQuery("input").val(""),jQuery("textarea").val(""),jQuery(".dropdown button").html('Area of interest <i class="fa fa-angle-down"></i>'),setTimeout(function(){jQuery(".btn-submit").replaceWith('<button class="btn btn-submit">Submit</button>')},2500)),"E"===e&&(jQuery(".btn-submit").replaceWith('<button class="btn btn-submit error"><i class="fa fa-ban"></i></button>'),setTimeout(function(){jQuery(".btn-submit").replaceWith('<button class="btn btn-submit">Submit</button>')},2500))},contactBtn:function(){jQuery("#contactfrm").submit(init.contactSubmit)},checkoutResponse:function(e){"Success"===e?(jQuery(".btn-submit").addClass("success").html('<i class="fa fa-check"></i>'),jQuery("input").val(""),jQuery(".month button").html('Month <i class="fa fa-angle-down"></i>'),jQuery(".year button").html('Year <i class="fa fa-angle-down"></i>'),setTimeout(function(){jQuery(".btn-submit").removeClass("success").html("Pay Now"),jQuery(".right").addClass("confirm")},1500)):(jQuery(".btn-submit").addClass("error").html('<i class="fa fa-ban"></i>'),setTimeout(function(){jQuery(".btn-submit").removeClass("error").html("Pay Now")},1500))},stripeResponseHandler:function(e,t){var n=jQuery("#checkoutFrm");if(t.error)n.find(".payment-errors").text(t.error.message),jQuery(".btn-submit").addClass("error").html('<i class="fa fa-ban"></i>'),setTimeout(function(){jQuery(".btn-submit").removeClass("error").html("Pay Now"),jQuery(".btn-submit").prop("disabled",!1),n.find(".payment-errors").html("")},1500);else{var r=t.id;jQuery.ajax({url:ajaxurl,type:n.attr("method"),data:{firstname:jQuery("#firstname").val(),lastname:jQuery("#lastname").val(),emailaddress:jQuery("#emailaddress").val(),token:r,action:"charge"},dataType:"html",beforeSubmit:function(e,t,n){e.push({charge:"charge_nonce",value:meta.charge_nonce})},success:function(e){init.checkoutResponse(e)}})}},checkoutBtn:function(){Stripe.setPublishableKey(pKey);var e=jQuery("#checkoutFrm");e.submit(function(t){return jQuery(".btn-submit").html('<i class="fa fa-spinner fa-spin"></i>'),e.find(".btn-submit").prop("disabled",!0),Stripe.card.createToken(e,init.stripeResponseHandler),!1})}};jQuery(document).ready(function(){move.onMove(),init.onReady()});